generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model cwpmitglieder {
  id                  String?   @db.VarChar(3)
  nachname            String?   @db.VarChar(28)
  vorname             String?   @db.VarChar(11)
  geschlecht          String?   @db.VarChar(10)
  titel               String?   @db.VarChar(10)
  plz                 String?   @db.VarChar(4)
  ort                 String?   @db.VarChar(25)
  strasse             String?   @db.VarChar(30)
  geburtsdatum        DateTime? @db.Date
  mitgliedsnummer     String?   @db.VarChar(15)
  schuetzenpassnummer Int?
  handy               String?   @db.VarChar(19)
  tel1                String?   @db.VarChar(24)
  email               String?   @db.VarChar(29)
  tel2                String?   @db.VarChar(15)
  landesverband       Boolean
  status              String?   @db.VarChar(36)
  schluessel          Boolean
  notizen             String?   @db.VarChar(62)
  beitrittsdatum      DateTime? @db.Date

  @@ignore
}

model email {
  email_id         Int                @id @default(autoincrement()) @db.UnsignedInt
  email_adresse    String?            @unique(map: "email_adresse_UNIQUE") @db.VarChar(45)
  email_hat_person email_hat_person[]
}

model email_hat_person {
  email_id  Int    @db.UnsignedInt
  person_id Int    @db.UnsignedInt
  email     email  @relation(fields: [email_id], references: [email_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_email_has_person_email")
  person    person @relation(fields: [person_id], references: [person_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_email_has_person_person")

  @@id([email_id, person_id])
  @@index([email_id], map: "fk_email_has_person_email_idx")
  @@index([person_id], map: "fk_email_has_person_person_idx")
}

model geschlecht {
  geschlecht_id Int      @id @default(autoincrement()) @db.UnsignedInt
  geschlecht    String?  @unique(map: "g_gender_UNIQUE") @db.VarChar(1)
  person        person[]
}

model mitgliedschaftszeitraum {
  mitgliedschaftszeitraum_id Int       @id @default(autoincrement()) @db.UnsignedInt
  von                        DateTime? @db.Date
  bis                        DateTime? @db.Date
  person_id                  Int       @db.UnsignedInt
  person                     person    @relation(fields: [person_id], references: [person_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_mitgliedschaftszeitraum_person")

  @@index([person_id], map: "fk_mitgliedschaftszeitraum_person_idx")
}

model notizen {
  notizen_id Int     @id @default(autoincrement()) @db.UnsignedInt
  person_id  Int     @db.UnsignedInt
  notiz      String? @db.Text
  person     person  @relation(fields: [person_id], references: [person_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_notizen_person")

  @@index([person_id], map: "fk_notizen_person_idx")
}

model person {
  person_id                   Int                        @id @default(autoincrement()) @db.UnsignedInt
  vorname                     String                     @db.VarChar(45)
  nachname                    String                     @db.VarChar(45)
  geburtsdatum                DateTime?                  @db.Date
  mitgliedsnummer             Int?                       @unique(map: "mitgliedsnummer_UNIQUE") @db.UnsignedInt
  schuetzenpassnummer         Int?                       @unique(map: "schuetzenpassnummer_UNIQUE") @db.UnsignedInt
  strasse                     String?                    @db.VarChar(45)
  ort                         String?                    @db.VarChar(45)
  plz                         String?                    @db.VarChar(45)
  geschlecht_id               Int                        @db.UnsignedInt
  ist_landesverband           Int                        @db.UnsignedTinyInt
  hat_schluessel_suessenbrunn Int                        @db.UnsignedTinyInt
  email_hat_person            email_hat_person[]
  mitgliedschaftszeitraum     mitgliedschaftszeitraum[]
  notizen                     notizen[]
  geschlecht                  geschlecht                 @relation(fields: [geschlecht_id], references: [geschlecht_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_person_geschlecht")
  person_hat_telefonnummer    person_hat_telefonnummer[]
  person_hat_titel            person_hat_titel[]
  statuszeitraum              statuszeitraum[]

  @@index([geschlecht_id], map: "fk_person_geschlecht_idx")
}

model person_hat_telefonnummer {
  person_id        Int           @db.UnsignedInt
  telefonnummer_id Int           @db.UnsignedInt
  person           person        @relation(fields: [person_id], references: [person_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_person_hat_telefonnummer_person")
  telefonnummer    telefonnummer @relation(fields: [telefonnummer_id], references: [telefonnummer_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_person_hat_telefonnummer_telefonnummer")

  @@id([person_id, telefonnummer_id])
  @@index([person_id], map: "fk_person_hat_telefonnummer_person_idx")
  @@index([telefonnummer_id], map: "fk_person_hat_telefonnummer_telefonnummer_idx")
}

model person_hat_titel {
  person_id Int    @db.UnsignedInt
  titel_id  Int    @db.UnsignedInt
  person    person @relation(fields: [person_id], references: [person_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_person_hat_titel_person")
  titel     titel  @relation(fields: [titel_id], references: [titel_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_person_hat_titel_titel")

  @@id([person_id, titel_id])
  @@index([person_id], map: "fk_person_hat_titel_person_idx")
  @@index([titel_id], map: "fk_person_hat_titel_titel_idx")
}

model status {
  status_id          Int              @id @default(autoincrement()) @db.UnsignedInt
  status_bezeichnung String?          @unique(map: "status_bezeichnung_UNIQUE") @db.VarChar(45)
  statuszeitraum     statuszeitraum[]
}

model statuszeitraum {
  statuszeitraum_id Int       @id @default(autoincrement()) @db.UnsignedInt
  von               DateTime? @db.Date
  bis               DateTime? @db.Date
  status_id         Int       @db.UnsignedInt
  person_id         Int       @db.UnsignedInt
  person            person    @relation(fields: [person_id], references: [person_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_statuszeitraum_person")
  status            status    @relation(fields: [status_id], references: [status_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_statuszeitraum_status")

  @@index([person_id], map: "fk_statuszeitraum_person_idx")
  @@index([status_id], map: "fk_statuszeitraum_status_idx")
}

model telefonnummer {
  telefonnummer_id         Int                        @id @default(autoincrement()) @db.UnsignedInt
  telefonnummer            String?                    @db.VarChar(45)
  telefonnummer_typ_id     Int                        @db.UnsignedInt
  person_hat_telefonnummer person_hat_telefonnummer[]
  telefonnummer_typ        telefonnummer_typ          @relation(fields: [telefonnummer_typ_id], references: [telefonnummer_typ_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_telefonnummer_typ")

  @@index([telefonnummer_typ_id], map: "fk_telefonnummer_typ_idx")
}

model telefonnummer_typ {
  telefonnummer_typ_id Int             @id @default(autoincrement()) @db.UnsignedInt
  telefonnummer_typ    String?         @unique(map: "telefonnummer_typ_UNIQUE") @db.VarChar(45)
  telefonnummer        telefonnummer[]
}

model titel {
  titel_id         Int                @id @default(autoincrement()) @db.UnsignedInt
  titel            String?            @db.VarChar(45)
  person_hat_titel person_hat_titel[]
}
